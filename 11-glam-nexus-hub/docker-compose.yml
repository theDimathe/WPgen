version: '3.8'

services:
  web:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: landing-page
    restart: unless-stopped
    ports:
      - "${PORT:-8080}:80"
    environment:
      - NGINX_HOST=${DOMAIN:-localhost}
      - NGINX_PORT=80
    volumes:
      # Optional: Mount files for live editing during development
       - ./index.html:/usr/share/nginx/html/index.html:ro
       - ./style.css:/usr/share/nginx/html/style.css:ro
       - ./script.js:/usr/share/nginx/html/script.js:ro
       - ./images:/usr/share/nginx/html/images:ro
    networks:
      - landing-network
    labels:
      - "com.vsesvit.ai.project=landing-page"
      - "com.vsesvit.ai.version=1.0"

networks:
  landing-network:
    driver: bridge

# Usage:
#
# Start (default port 8080):
#   docker-compose up -d
#
# Start with custom port:
#   PORT=3000 docker-compose up -d
#
# Start with custom domain:
#   DOMAIN=example.com docker-compose up -d
#
# View logs:
#   docker-compose logs -f
#
# Stop:
#   docker-compose down
#
# Rebuild and start:
#   docker-compose up -d --build
